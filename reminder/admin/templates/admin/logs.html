{% extends 'admin/base_admin.html' %}
{% set active_page = "logs" %}

{% block pagehead %}
    Logs
{% endblock pagehead %}

{% block body %}
<div class="row">
    <div class="col-sm-12 col-md-6">

    </div>
    <div class="col-sm-12 col-md-6">

    </div>

</div>
    <table class="table table-hover">
        <thead class="thead-light">
        <tr>
            <th class="align-middle">#</th>
            <th class="align-middle">
                {% if request.args.get('col') == 'time' and request.args.get('dir') == 'desc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='time', dir='asc') }}">Log timestamp  <span data-feather="chevron-down"></span></a>
                {% elif request.args.get('col') == 'time' and request.args.get('dir') == 'asc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='time', dir='desc') }}">Log timestamp  <span data-feather="chevron-up"></span></a>
                {% elif not request.args %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='time', dir='desc') }}">Log timestamp  <span data-feather="chevron-up"></span></a>
                {% else %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='time', dir='desc') }}">Log timestamp</span></a>
                {% endif %}
            </th>
            <th class="align-middle">
                {% if request.args.get('col') == 'log_name' and request.args.get('dir') == 'desc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='log_name', dir='asc') }}">Log name  <span data-feather="chevron-down"></span></a>
                {% elif request.args.get('col') == 'log_name' and request.args.get('dir') == 'asc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='log_name', dir='desc') }}">Log name  <span data-feather="chevron-up"></span></a>
                {% else %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='log_name', dir='asc') }}">Log name</a>
                {% endif %}
            </th>
            <th class="align-middle">
                {% if request.args.get('col') == 'level' and request.args.get('dir') == 'asc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='level', dir='desc') }}">Log level  <span data-feather="chevron-up"></span></a>
                {% elif request.args.get('col') == 'stop' and request.args.get('dir') == 'desc' %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='level', dir='asc') }}">Log level  <span data-feather="chevron-down"></span></a>
                {% else %}
                <a style="color: inherit;" href="{{ url_for('admin_bp.logs', col='level', dir='asc') }}">Log level</span></a>
                {% endif %}
            </th>
            <th class="align-middle">
                Log message?
            </th>
        </tr>
        </thead>
        <tbody>
        {% for log in logs %}
            <tr class="align-middle">
                <th class="align-middle" scope="row">{{ loop.index }}</th>
                <td class="align-middle">
                    {{ log.time.strftime('%Y-%m-%d %H:%M:%S') }}
                </td>
                <td class="align-middle">{{ log.log_name }}</td>

                <td class="align-middle">
                    {{ log.level }}
                </td>
                <td class="align-middle" width="40%">
                    {{ log.msg }}
                </td>
        </tr>

        {% endfor %}
        </tbody>
    </table>


{% endblock body %}
